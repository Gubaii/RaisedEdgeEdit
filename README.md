# 3D浮雕圆角、切角测试工具 (RaisedEdgeEdit)

基于深度图的高精度3D浮雕模型生成工具，支持垂直边缘、圆角、切角三种边缘类型。

## ✨ 功能特性

- 🎯 **精确建模**: 严格按照深度图像素级别创建3D模型
- 🔧 **三种边缘**: 垂直边缘、圆角、切角，适合不同浮雕制作需求
- 🎨 **实时预览**: 基于Three.js的高质量3D渲染预览
- 📏 **高度控制**: 0.5-3mm精确高度范围，适合真实浮雕制作
- 🔍 **缩放观察**: 1-100倍缩放范围，支持超近距离细节观察
- 🖥️ **全屏模式**: 支持全屏显示，便于详细检查模型效果
- ⚡ **性能优化**: 四种质量模式，平衡质量与性能
- 📊 **实时监控**: 渲染时间和性能状态实时显示

## 🛠️ 技术栈

- **前端框架**: React 18 + TypeScript
- **3D渲染**: Three.js + React Three Fiber + Drei
- **样式**: Tailwind CSS
- **构建工具**: Vite
- **图像处理**: Canvas API

## 🚀 快速开始

### 安装依赖

```bash
npm install
```

### 启动开发服务器

```bash
npm run dev
```

### 构建生产版本

```bash
npm run build
```

## 🎮 使用说明

### 1. 上传深度图

- 支持PNG、JPG等常见图像格式
- 推荐使用灰度图或黑白图
- 白色区域 = 最高点，黑色区域 = 最低点，透明区域 = 底面

### 2. 选择边缘类型

- **垂直边缘**: 从底面直接跳跃到顶面，适合印章、标牌
- **圆角边缘**: 边缘呈圆弧过渡，适合装饰浮雕
- **切角边缘**: 按指定角度倾斜过渡，适合建筑装饰

### 3. 调整参数

- **边缘宽度**: 控制过渡区域的像素宽度 (5-50像素)
- **切角角度**: 仅切角模式，控制倾斜角度 (15°-75°)
- **模型高度**: 控制整体浮雕厚度 (0.5-3mm)

### 4. 质量选择

- **流畅模式**: 128分辨率，最快渲染
- **平衡模式**: 256分辨率，推荐日常使用
- **高质量**: 512分辨率，精细预览
- **极致质量**: 768分辨率，最高质量

### 5. 3D操作

- **旋转**: 鼠标左键拖拽
- **缩放**: 鼠标滚轮或双指手势
- **平移**: 鼠标右键拖拽
- **全屏**: 点击全屏按钮，ESC退出

## 📁 项目结构

```
src/
├── components/           # React组件
│   ├── DepthMap3DViewer.tsx    # 3D模型查看器
│   ├── FileUpload.tsx          # 文件上传组件
│   ├── ParameterPanel.tsx      # 参数控制面板
│   └── ...
├── utils/               # 工具函数
│   ├── edgeProcessor.ts        # 边缘处理算法
│   ├── imageProcessor.ts       # 图像处理
│   └── ...
├── types/               # TypeScript类型定义
└── ...
```

## 🔬 核心算法

### 边缘处理算法

1. **轮廓提取**: 基于透明度的智能轮廓识别
2. **距离场计算**: 快速计算每个像素到边缘的距离
3. **深度映射**: 根据边缘类型计算对应的深度值

### 3D建模算法

1. **像素级采样**: 严格按照深度图像素创建顶点
2. **三角网格**: 手动构建高质量三角形网格
3. **法线计算**: 基于实际几何的精确法线计算

## 🎯 应用场景

- **浮雕设计**: CNC雕刻、3D打印的浮雕制作
- **印章制作**: 个人印章、公司印章的3D预览
- **装饰设计**: 建筑装饰、家具雕花的效果预览
- **教学演示**: 3D建模、计算机图形学的教学工具

## 📈 性能指标

- **渲染速度**: 流畅模式 < 50ms，极致质量 < 200ms
- **内存占用**: 根据质量级别动态调整
- **兼容性**: 支持现代浏览器，WebGL 1.0+

## 🤝 贡献指南

欢迎提交问题和功能请求！

1. Fork 本仓库
2. 创建功能分支 (`git checkout -b feature/amazing-feature`)
3. 提交更改 (`git commit -m 'Add amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 创建 Pull Request

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 🚀 更新日志

### v1.0.0 (当前版本)

- ✅ 基础3D浮雕建模功能
- ✅ 三种边缘类型支持
- ✅ 性能优化和质量选择
- ✅ 全屏显示和缩放功能
- ✅ 实时性能监控

---

**开发者**: 基于React + Three.js的现代Web技术栈构建
**联系方式**: 欢迎通过GitHub Issues交流讨论 